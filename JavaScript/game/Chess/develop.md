# TODO
- 棋譜書き込みのフォーマット考える
- 勝利画面への推移をどうにかする
- バグとり
    - チェック、チェックメイト処理がうまく行ってない
    - 上記処理後無理矢理進めた場合エラー吐きまくる
    - よく考えたら全探索した時に特殊処理行われてない
    - 全体の盤面、アンパッサン、castフラグあたりを保存しとかにゃならん
    - 棋譜の機能と合わせてデータ読み込んだら元の状態に戻すとかできないだろうか
        - 一時的に書き出したデータを宣言しといてloadして戻すとか
    - 作り直しだぁぁぁぁ
- Masterの領域はsave,load関係ないデータ置く
- 配線整理
- お絵描き
- 料理

# factorio
## 原油処理
- 蓄電池: 石油ガス*150
    - 鉄板*2
    - 電池*5
- 電池
    - 鉄板*1
    - 銅板*1
    - 硫酸*20
- 硫酸*50
    - 鉄板*1
    - 硫黄*5
    - 水*100
- 硫黄*2
    - 水*30
    - 石油ガス*30

- プラスチック棒*2
    - 石炭*1
    - 石油ガス*20

- 潤滑油*10
    - 重油*10

- ロケット燃料
    - 固形燃料*10
    - 軽油*10
- 固形燃料
    1. 重油*20
    2. 軽油*10
    3. 石油ガス*20

- 発展的な石油加工*20
    - 5台動かして、20秒に一回この処理を実行する
    - 縦方向に拡張性があれば尚良い
    - 重油*500 -> 100を潤滑油400を軽油に変換
    - 軽油*(900+300)
    - 石油ガス*1100 -> 制御基盤\*20と蓄電池\*1

- 制御基盤\*20: 石油ガス*950(150+800)
    - 電子基盤*400
    - 発展基盤*40
    - 硫酸*100
- 発展基盤*40
    - プラスチック棒*80
    - 銅線*320
    - 電子基盤*80

- moveTileの数字で特殊処理を管理しよう!
    1. 移動可能
    2. 敵駒襲撃
    3. ポーンの二マス移動
    4. アンパッサン
    5. キャスリング KING
    6. 無効マス
    7. キャスリング QUEEN
    8. 敵襲+プロモーション
    9. 移動+プロモーション

### 手番側の入力を開始する
# roop
1. 移動する駒を選択する
2. 移動可能範囲を検索する
3. 移動させるマスを選択する
4. 移動後、特殊処理を行う
5. 棋譜に書き込む
6. 手番を切り替える
7. チェックメイトの判定に成功していれば終了

# record
T[type]:{B.x,B.y} -> {A.x,A.y} .. S[special]
type {
    1K: キング
    2Q: クイーン
    3R: ルーク
    4B: ビショップ
    5N: ナイト
    6P: ポーン
}
special {
    x: 駒取り,
  0-0: キングサイド キャスリング,
0-0-0: クイーンサイド キャスリング,
    +: チェック,
    #: チェックメイト
}